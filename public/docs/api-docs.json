{
    "openapi": "3.0.0",
    "info": {
        "title": "Bookshelves API",
        "description": "Documentation about Bookshelves API",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "/api"
        }
    ],
    "paths": {
        "/": {
            "get": {
                "tags": [
                    "global"
                ],
                "summary": "Basic documentation",
                "description": "Documentation to use this API",
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    }
                }
            }
        },
        "/authors": {
            "get": {
                "tags": [
                    "authors"
                ],
                "summary": "List of authors",
                "description": "Authors",
                "operationId": "App\\Http\\Controllers\\Api\\AuthorController::index",
                "parameters": [
                    {
                        "name": "perPage",
                        "in": "query",
                        "description": "Integer to choose how many books you show in each page",
                        "required": false,
                        "style": "form",
                        "schema": {
                            "type": "integer",
                            "format": "int64"
                        },
                        "example": 32
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    }
                }
            }
        },
        "/authors/{author}": {
            "get": {
                "tags": [
                    "authors"
                ],
                "summary": "Show author by author slug",
                "description": "Get details for a single author with list of series and books, check /authors endpoint to get list of slugs",
                "operationId": "findAuthorByAuthorSlug",
                "parameters": [
                    {
                        "name": "author",
                        "in": "path",
                        "description": "Slug of author name like 'auel-jean-m' for Jean M. Auel",
                        "required": true,
                        "style": "form",
                        "example": "auel-jean-m"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "404": {
                        "description": "Invalid author-slug value or book-slug value",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/books": {
            "get": {
                "tags": [
                    "books"
                ],
                "summary": "List of books",
                "description": "Get list of books with query parameters, default list use pagination.",
                "operationId": "App\\Http\\Controllers\\Api\\BookController::index",
                "parameters": [
                    {
                        "name": "per-page",
                        "in": "query",
                        "description": "Integer to choose how many books you show in each page, default 32",
                        "required": false,
                        "style": "form",
                        "schema": {
                            "type": "integer",
                            "format": "int64"
                        },
                        "example": 32
                    },
                    {
                        "name": "all",
                        "in": "query",
                        "description": "Boolean to get list of all books without pagination, default false",
                        "required": false,
                        "schema": {
                            "type": "boolean"
                        },
                        "example": false
                    },
                    {
                        "name": "lang",
                        "in": "query",
                        "description": "String to select existant eBook language, default null",
                        "required": false,
                        "schema": {
                            "enum": [
                                "fr",
                                "en"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/books/{author}/{book}": {
            "get": {
                "tags": [
                    "books"
                ],
                "summary": "Show book by author slug and book slug",
                "description": "Get details for a single book, check /books endpoint to get list of slugs",
                "operationId": "findBookByAuthorBook",
                "parameters": [
                    {
                        "name": "author",
                        "in": "path",
                        "description": "Slug of author name like 'lovecraft-howard-phillips' for Howard Phillips Lovecraft",
                        "required": true,
                        "style": "form",
                        "example": "lovecraft-howard-phillips"
                    },
                    {
                        "name": "book",
                        "in": "path",
                        "description": "Slug of book name like 'les-montagnes-hallucinees-fr' for Les Montagnes Hallucin√©es",
                        "required": true,
                        "style": "form",
                        "example": "les-montagnes-hallucinees-fr"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "404": {
                        "description": "Invalid author-slug value or book-slug value",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/books/latest": {
            "get": {
                "tags": [
                    "books"
                ],
                "summary": "List of latest books",
                "description": "Get list of latest books",
                "operationId": "App\\Http\\Controllers\\Api\\BookController::latest",
                "parameters": [
                    {
                        "name": "limit",
                        "in": "query",
                        "description": "Integer to choose how many books you show, default 10",
                        "required": false,
                        "style": "form",
                        "schema": {
                            "type": "integer",
                            "format": "int64"
                        },
                        "example": 10
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/count": {
            "get": {
                "tags": [
                    "count"
                ],
                "summary": "Count of entities",
                "description": "Get count by entities, use query parameter to select entity.",
                "operationId": "App\\Http\\Controllers\\Api\\CountController::count",
                "parameters": [
                    {
                        "name": "entity",
                        "in": "query",
                        "description": "String to select existant entity",
                        "required": true,
                        "schema": {
                            "enum": [
                                "book",
                                "serie",
                                "author"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/download/book/{author}/{book}": {
            "get": {
                "tags": [
                    "download"
                ],
                "summary": "Download specific book",
                "description": "Download specific book, check /books endpoint to get list of slugs",
                "operationId": "App\\Http\\Controllers\\Api\\DownloadController::book",
                "parameters": [
                    {
                        "name": "author",
                        "in": "path",
                        "description": "Slug of author name like 'auel-jean-m' for Jean M. Auel",
                        "required": true,
                        "style": "form",
                        "example": "auel-jean-m"
                    },
                    {
                        "name": "book",
                        "in": "path",
                        "description": "Slug of book name like 'les-refuges-de-pierre' for Les refuges de pierre",
                        "required": true,
                        "style": "form",
                        "example": "les-refuges-de-pierre"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    }
                }
            }
        },
        "/download/serie/{author}/{serie}": {
            "get": {
                "tags": [
                    "download"
                ],
                "summary": "Download specific serie's books with ZIP",
                "description": "Download specific serie, check /series endpoint to get list of slugs",
                "operationId": "App\\Http\\Controllers\\Api\\DownloadController::serie",
                "parameters": [
                    {
                        "name": "author",
                        "in": "path",
                        "description": "Slug of author name like 'auel-jean-m' for Jean M. Auel",
                        "required": true,
                        "style": "form",
                        "example": "auel-jean-m"
                    },
                    {
                        "name": "book",
                        "in": "path",
                        "description": "Slug of book name like 'les-enfants-de-la-terre' for Les enfants de la terre",
                        "required": true,
                        "style": "form",
                        "example": "les-enfants-de-la-terre"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    }
                }
            }
        },
        "/download/author/{author}": {
            "get": {
                "tags": [
                    "download"
                ],
                "summary": "Download specific author's books with ZIP",
                "description": "Download specific author, check /authors endpoint to get list of slugs",
                "operationId": "App\\Http\\Controllers\\Api\\DownloadController::author",
                "parameters": [
                    {
                        "name": "author",
                        "in": "path",
                        "description": "Slug of author name like 'auel-jean-m' for Jean M. Auel",
                        "required": true,
                        "style": "form",
                        "example": "auel-jean-m"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/search": {
            "get": {
                "tags": [
                    "search"
                ],
                "summary": "List of search results",
                "description": "To search books, authors and series",
                "operationId": "App\\Http\\Controllers\\Api\\SearchController::index",
                "parameters": [
                    {
                        "name": "q",
                        "in": "query",
                        "description": "String value can be book's title, author's firstname or lastname, series' title",
                        "required": true,
                        "style": "form",
                        "schema": {
                            "type": "string"
                        },
                        "example": "lovecraft"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    }
                }
            }
        },
        "/series": {
            "get": {
                "tags": [
                    "series"
                ],
                "summary": "List of series",
                "description": "Series",
                "operationId": "App\\Http\\Controllers\\Api\\SerieController::index",
                "parameters": [
                    {
                        "name": "perPage",
                        "in": "query",
                        "description": "Integer to choose how many books you show in each page",
                        "required": false,
                        "style": "form",
                        "schema": {
                            "type": "integer",
                            "format": "int64"
                        },
                        "example": 32
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/series/{author}/{series}": {
            "get": {
                "tags": [
                    "series"
                ],
                "summary": "Show series by author slug and by series slug",
                "description": "Get details for a single series with list of books, check /series endpoint to get list of slugs",
                "operationId": "findAuthorByAuthorSlug",
                "parameters": [
                    {
                        "name": "author",
                        "in": "path",
                        "description": "Slug of author name like 'lovecraft-howard-phillips' for Howard Phillips Lovecraft",
                        "required": true,
                        "style": "form",
                        "example": "lovecraft-howard-phillips"
                    },
                    {
                        "name": "series",
                        "in": "path",
                        "description": "Slug of book name like 'cthulhu-le-mythe-fr' for Cthulhu : Le Mythe",
                        "required": true,
                        "style": "form",
                        "example": "cthulhu-le-mythe-fr"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "404": {
                        "description": "Invalid author-slug value or book-slug value",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        }
    },
    "tags": [
        {
            "name": "global",
            "description": "Global requests"
        },
        {
            "name": "books",
            "description": "Books requests"
        },
        {
            "name": "series",
            "description": "Series requests"
        },
        {
            "name": "authors",
            "description": "Authors requests"
        },
        {
            "name": "search",
            "description": "Search requests"
        },
        {
            "name": "download",
            "description": "Download requests"
        }
    ],
    "security": [
        []
    ]
}